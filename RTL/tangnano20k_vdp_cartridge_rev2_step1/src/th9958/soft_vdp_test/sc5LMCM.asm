; =============================================================================
;	V9958 software test program
; -----------------------------------------------------------------------------
;	Programmed by t.hara (HRA!)
; =============================================================================

			org		0x100

start:
			; 準備
			call	vdp_io_select
			call	copy_rom_font
			; テスト
			di
			call	screen5
			call	s5_load_image

			call	test001
			call	test002
			call	test003
			call	test004

			call	test005
			call	test006
			call	test007
			call	test008

			ld		a, 0
			ld		e, 15
			call	write_control_register
			ei

			; 後始末
			call	clear_key_buffer

			; 結果を表示 ( '=' OK, '!' NG )
			ld		hl, test001_result
			ld		b, 8
	loop:
			ld		a, [hl]
			inc		hl
			or		a, a
			ld		a, '!'
			jr		z, skip
			add		a, '=' - '!'
	skip:
			ld		e, a
			ld		c, 2
			push	hl
			push	bc
			call	bdos
			pop		bc
			pop		hl
			djnz 	loop

			ld		e, 13
			ld		c, 2
			call	bdos
			ld		e, 10
			ld		c, 2
			call	bdos

			ld		c, _TERM0
			jp		bdos

include		"lib.asm"

; =============================================================================
;	SCREEN5
;	input:
;		none
;	output:
;		none
;	break:
;		AF
;	comment:
;		none
; =============================================================================
			scope	screen5
screen5::
			; R#0 = 0x06
			ld		a, 0x06
			ld		e, 0
			call	write_control_register
			; R#1 = 0x40
			ld		a, 0x40
			ld		e, 1
			call	write_control_register
			; R#7 = 0x07
			ld		a, 0x07					; 周辺色 7
			ld		e, 7
			call	write_control_register
			; R#8 = 0x02
			ld		a, 0x0A					; スプライト非表示
			ld		e, 8
			call	write_control_register
			; R#9 = 0x80
			ld		a, 0x80					; 212line
			ld		e, 9
			call	write_control_register
			; Pattern Name Table R#2 = 0b0pp11111 : p = page
			ld		a, 0b00011111
			ld		e, 2
			call	write_control_register
			; Sprite Attribute Table
			ld		hl, 0x7A00
			call	set_sprite_attribute_table
			; Sprite Pattern Generator Table
			ld		hl, 0x7000
			call	set_sprite_pattern_generator_table
			; Pattern Name Table をクリア
			xor		a, a
			ld		[vram_bit16], a
			ld		hl, 0x0000
			ld		bc, 128 * 256
			ld		e, 0x44
			call	fill_vram

			ld		hl, 0x8000
			ld		d, 0
			ld		bc, 128 * 256
			ld		e, 0x85
			call	fill_vram

			ld		a, 1
			ld		[vram_bit16], a
			ld		hl, 0x0000
			ld		bc, 128 * 256
			ld		e, 0x88
			call	fill_vram

			ld		hl, 0x8000
			ld		d, 1
			ld		bc, 128 * 256
			ld		e, 0x99
			call	fill_vram

			xor		a, a
			ld		[vram_bit16], a
			ret
			endscope

; =============================================================================
;	[SCREEN5] load screen5 image
;	input:
;		none
;	output:
;		none
;	break:
;		AF
;	comment:
;		none
; =============================================================================
			scope	s5_load_image
s5_load_image::

			ld		hl, small_image1		; 転送元
			ld		de, 0					; 転送先
			ld		c, 16
	y_loop1:
			ld		b, 16
	x_loop1:
			push	bc
			push	hl
			push	de
			ld		bc, 8
			call	block_copy
			ld		bc, 8
			pop		hl						; 転送先
			add		hl, bc					; +8
			ex		de, hl
			pop		hl						; 転送元
			pop		bc
			djnz	x_loop1

			push	bc
			ld		bc, 8
			add		hl, bc
			pop		bc
			dec		c
			jr		nz, y_loop1

			ld		hl, small_image2		; 転送元
			ld		de, 0x8000				; 転送先
			ld		c, 16
	y_loop2:
			ld		b, 16
	x_loop2:
			push	bc
			push	hl
			push	de
			ld		bc, 8
			call	block_copy
			ld		bc, 8
			pop		hl						; 転送先
			add		hl, bc					; +8
			ex		de, hl
			pop		hl						; 転送元
			pop		bc
			djnz	x_loop2

			push	bc
			ld		bc, 8
			add		hl, bc
			pop		bc
			dec		c
			jr		nz, y_loop2

			call	wait_push_space_key
			ret

	small_image1:
			db		0x00,0x11,0x11,0x11,0x10,0x00,0x00,0x00		;	0
			db		0x01,0xFF,0xFF,0xFF,0xF1,0x10,0x00,0x00		;	1
			db		0x01,0x11,0x11,0x1F,0xFF,0xF1,0x00,0x00		;	2
			db		0x1F,0xFF,0xFF,0xFF,0xFF,0xFF,0x10,0x00		;	3
			db		0x01,0x11,0x1F,0xFF,0xFF,0x1F,0x10,0x00		;	4
			db		0x00,0x01,0xFF,0xFF,0xFF,0x1F,0xF1,0x00		;	5
			db		0x00,0x1F,0xFF,0xFF,0xDD,0xDF,0xF1,0x00		;	6
			db		0x00,0x1F,0xFF,0xFF,0xFF,0xFF,0xF1,0x00		;	7
			db		0x01,0x1F,0xF1,0xFF,0xFF,0xFF,0xF1,0x00		;	8
			db		0x1F,0xFF,0x1F,0xFF,0xFF,0xFF,0xF1,0x00		;	9
			db		0x1F,0xFF,0x1F,0xF1,0xFF,0xFF,0xF1,0x00		;	A
			db		0x01,0xFF,0xF1,0x1F,0xFF,0xFF,0x11,0x10		;	B
			db		0x1F,0x1F,0xFF,0xFF,0xFF,0xF1,0x1F,0xF1		;	C
			db		0x1F,0xF1,0x1F,0xFF,0xF1,0x1F,0xFF,0x10		;	D
			db		0x01,0xFF,0xF1,0x11,0x1F,0xFF,0x11,0x00		;	E
			db		0x00,0x11,0x10,0x00,0x01,0x11,0x00,0x00		;	F

	small_image2:
			db		0x00,0x00,0x00,0x01,0x11,0x11,0x11,0x00		;	0
			db		0x00,0x00,0x01,0x1F,0xFF,0xFF,0xFF,0x10		;	1
			db		0x00,0x00,0x1F,0xFF,0xF1,0x11,0x11,0x10		;	2
			db		0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xF1		;	3
			db		0x00,0x01,0xF1,0xFF,0xFF,0xF1,0x11,0x10		;	4
			db		0x00,0x1F,0xF1,0xFF,0xFF,0xFF,0x10,0x00		;	5
			db		0x00,0x1F,0xFD,0xDD,0xFF,0xFF,0xF1,0x00		;	6
			db		0x00,0x1F,0xFF,0xFF,0xFF,0xFF,0xF1,0x00		;	7
			db		0x00,0x1F,0xFF,0xFF,0xFF,0x1F,0xF1,0x10		;	8
			db		0x00,0x1F,0xFF,0xFF,0xFF,0xF1,0xFF,0xF1		;	9
			db		0x00,0x1F,0xFF,0xFF,0x1F,0xF1,0xFF,0xF1		;	A
			db		0x01,0x11,0xFF,0xFF,0xF1,0x1F,0xFF,0x10		;	B
			db		0x1F,0xF1,0x1F,0xFF,0xFF,0xFF,0xF1,0xF1		;	C
			db		0x01,0xFF,0xF1,0x1F,0xFF,0xF1,0x1F,0xF1		;	D
			db		0x00,0x11,0xFF,0xF1,0x11,0x1F,0xFF,0x10		;	E
			db		0x00,0x00,0x11,0x10,0x00,0x01,0x11,0x00		;	F
			endscope

; =============================================================================
;	LMCM の結果を受け取る
;	input:
;		HL .... 結果の格納先アドレス
; =============================================================================
			scope	get_lmcm_result
get_lmcm_result::
			ld		a, [io_vdp_port1]
			ld		c, a
	loop:
			ld		a, 2
			out		[c], a
			ld		a, 15 + 0x80
			out		[c], a						; R#15 = 2
	wait_tr:
			in		a, [c]						; a = S#2
			or		a, a
			jp		m, get_pixel				; if TR=1 goto get_pixel
			rrca
			jr		c, wait_tr					; if CE=1 goto wait_tr
			ret
	get_pixel:
			ld		a, 7
			out		[c], a
			ld		a, 15 + 0x80
			out		[c], a						; R#15 = 7
			in		a, [c]
			ld		[hl], a
			inc		hl
			jr		loop
			endscope

; =============================================================================
;	メモリ比較
;	input:
;		HL .... 比較元1
;		DE .... 比較元2
;		BC .... サイズ
;	output:
;		Z ..... 1: 一致, 0: 不一致
; =============================================================================
			scope	memcmp
memcmp::
			ld		a, [de]
			inc		de
			cpi
			ret		pe
			jp		z, memcmp
			ret
			endscope

; =============================================================================
;	左上Xが偶数座標になる 16x16 のブロックを読む
; =============================================================================
			scope	test001
test001::
			ld		a, 2
			ld		e, 7
			call	write_control_register

			ld		hl, data
			ld		a, 32
			ld		b, 15
			call	run_command
			ld		hl, work
			call	get_lmcm_result
			ld		hl, work
			ld		de, small_image0	; reference
			ld		bc, 16 * 16
			call	memcmp
			ld		a, 0
			jr		nz, no_match
			inc		a
	no_match:
			ld		[test001_result], a

			call	wait_push_space_key
			ret
	data:
			dw		0			; SX
			dw		0			; SY
			dw		0			; DX (dummy)
			dw		0			; DY (dummy)
			dw		16			; NX
			dw		16			; NY
			db		0			; CLR (dummy)
			db		0b0000000	; ARG [-][-][-][-][DIY][DIX][-][-]
			db		0xA0		; CMD (LMCM)
			endscope

; =============================================================================
			scope	test002
test002::
			ld		a, 4
			ld		e, 7
			call	write_control_register

			ld		hl, data
			ld		a, 32
			ld		b, 15
			call	run_command
			ld		hl, work
			call	get_lmcm_result
			ld		hl, work
			ld		de, small_image1	; reference
			ld		bc, 16 * 16
			call	memcmp
			ld		a, 0
			jr		nz, no_match
			inc		a
	no_match:
			ld		[test002_result], a

			call	wait_push_space_key
			ret
	data:
			dw		15			; SX
			dw		0			; SY
			dw		0			; DX (dummy)
			dw		0			; DY (dummy)
			dw		16			; NX
			dw		16			; NY
			db		0			; CLR (dummy)
			db		0b0000100	; ARG [-][-][-][-][DIY][DIX][-][-]
			db		0xA0		; CMD (LMCM)
			endscope

; =============================================================================
			scope	test003
test003::
			ld		a, 3
			ld		e, 7
			call	write_control_register

			ld		hl, data
			ld		a, 32
			ld		b, 15
			call	run_command
			ld		hl, work
			call	get_lmcm_result
			ld		hl, work
			ld		de, small_image2	; reference
			ld		bc, 16 * 16
			call	memcmp
			ld		a, 0
			jr		nz, no_match
			inc		a
	no_match:
			ld		[test003_result], a

			call	wait_push_space_key
			ret
	data:
			dw		0			; SX
			dw		15			; SY
			dw		0			; DX (dummy)
			dw		0			; DY (dummy)
			dw		16			; NX
			dw		16			; NY
			db		0			; CLR (dummy)
			db		0b0001000	; ARG [-][-][-][-][DIY][DIX][-][-]
			db		0xA0		; CMD (LMCM)
			endscope

; =============================================================================
			scope	test004
test004::
			ld		a, 10
			ld		e, 7
			call	write_control_register

			ld		hl, data
			ld		a, 32
			ld		b, 15
			call	run_command
			ld		hl, work
			call	get_lmcm_result
			ld		hl, work
			ld		de, small_image3	; reference
			ld		bc, 16 * 16
			call	memcmp
			ld		a, 0
			jr		nz, no_match
			inc		a
	no_match:
			ld		[test004_result], a

			call	wait_push_space_key
			ret
	data:
			dw		15			; SX
			dw		15			; SY
			dw		0			; DX (dummy)
			dw		0			; DY (dummy)
			dw		16			; NX
			dw		16			; NY
			db		0			; CLR (dummy)
			db		0b0001100	; ARG [-][-][-][-][DIY][DIX][-][-]
			db		0xA0		; CMD (LMCM)
			endscope

; =============================================================================
;	左上Xが奇数座標になる 16x16 のブロックを読む
; =============================================================================
			scope	test005
test005::
			ld		a, 2
			ld		e, 7
			call	write_control_register

			ld		hl, data
			ld		a, 32
			ld		b, 15
			call	run_command
			ld		hl, work
			call	get_lmcm_result
			ld		hl, work
			ld		de, small_image4	; reference
			ld		bc, 16 * 16
			call	memcmp
			ld		a, 0
			jr		nz, no_match
			inc		a
	no_match:
			ld		[test005_result], a

			call	wait_push_space_key
			ret
	data:
			dw		1			; SX
			dw		0			; SY
			dw		0			; DX (dummy)
			dw		0			; DY (dummy)
			dw		16			; NX
			dw		16			; NY
			db		0			; CLR (dummy)
			db		0b0000000	; ARG [-][-][-][-][DIY][DIX][-][-]
			db		0xA0		; CMD (LMCM)
			endscope

; =============================================================================
			scope	test006
test006::
			ld		a, 4
			ld		e, 7
			call	write_control_register

			ld		hl, data
			ld		a, 32
			ld		b, 15
			call	run_command
			ld		hl, work
			call	get_lmcm_result
			ld		hl, work
			ld		de, small_image5	; reference
			ld		bc, 16 * 16
			call	memcmp
			ld		a, 0
			jr		nz, no_match
			inc		a
	no_match:
			ld		[test006_result], a

			call	wait_push_space_key
			ret
	data:
			dw		16			; SX
			dw		0			; SY
			dw		0			; DX (dummy)
			dw		0			; DY (dummy)
			dw		16			; NX
			dw		16			; NY
			db		0			; CLR (dummy)
			db		0b0000100	; ARG [-][-][-][-][DIY][DIX][-][-]
			db		0xA0		; CMD (LMCM)
			endscope

; =============================================================================
			scope	test007
test007::
			ld		a, 3
			ld		e, 7
			call	write_control_register

			ld		hl, data
			ld		a, 32
			ld		b, 15
			call	run_command
			ld		hl, work
			call	get_lmcm_result
			ld		hl, work
			ld		de, small_image6	; reference
			ld		bc, 16 * 16
			call	memcmp
			ld		a, 0
			jr		nz, no_match
			inc		a
	no_match:
			ld		[test007_result], a

			call	wait_push_space_key
			ret
	data:
			dw		1			; SX
			dw		15			; SY
			dw		0			; DX (dummy)
			dw		0			; DY (dummy)
			dw		16			; NX
			dw		16			; NY
			db		0			; CLR (dummy)
			db		0b0001000	; ARG [-][-][-][-][DIY][DIX][-][-]
			db		0xA0		; CMD (LMCM)
			endscope

; =============================================================================
			scope	test008
test008::
			ld		a, 10
			ld		e, 7
			call	write_control_register

			ld		hl, data
			ld		a, 32
			ld		b, 15
			call	run_command
			ld		hl, work
			call	get_lmcm_result
			ld		hl, work
			ld		de, small_image7	; reference
			ld		bc, 16 * 16
			call	memcmp
			ld		a, 0
			jr		nz, no_match
			inc		a
	no_match:
			ld		[test008_result], a

			call	wait_push_space_key
			ret
	data:
			dw		16			; SX
			dw		15			; SY
			dw		0			; DX (dummy)
			dw		0			; DY (dummy)
			dw		16			; NX
			dw		16			; NY
			db		0			; CLR (dummy)
			db		0b0001100	; ARG [-][-][-][-][DIY][DIX][-][-]
			db		0xA0		; CMD (LMCM)
			endscope

; =============================================================================
;	Result  0=NG, 1=OK
test001_result::
			db		0
test002_result::
			db		0
test003_result::
			db		0
test004_result::
			db		0
test005_result::
			db		0
test006_result::
			db		0
test007_result::
			db		0
test008_result::
			db		0

; =============================================================================
;	うさぎ 正
small_image0::
			db		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00		;	0
			db		0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x00,0x00,0x00,0x00,0x00		;	1
			db		0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00,0x00		;	2
			db		0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00		;	3
			db		0x00,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x01,0x00,0x00,0x00		;	4
			db		0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x00,0x00		;	5
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0D,0x0D,0x0D,0x0F,0x0F,0x01,0x00,0x00		;	6
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	7
			db		0x00,0x01,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	8
			db		0x01,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	9
			db		0x01,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	A
			db		0x00,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x00		;	B
			db		0x01,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x01		;	C
			db		0x01,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x00		;	D
			db		0x00,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x00,0x00		;	E
			db		0x00,0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00		;	F

; =============================================================================
;	うさぎ 左右反転
small_image1::
			db		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00		;	0
			db		0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00		;	1
			db		0x00,0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x01,0x01,0x00		;	2
			db		0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01		;	3
			db		0x00,0x00,0x00,0x01,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x00		;	4
			db		0x00,0x00,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00		;	5
			db		0x00,0x00,0x01,0x0F,0x0F,0x0D,0x0D,0x0D,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	6
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	7
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x01,0x00		;	8
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x01		;	9
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x01		;	A
			db		0x00,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x00		;	B
			db		0x01,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x01		;	C
			db		0x00,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x01		;	D
			db		0x00,0x00,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x00		;	E
			db		0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00,0x00		;	F

; =============================================================================
;	うさぎ 上下反転
small_image2::
			db		0x00,0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00		;	F
			db		0x00,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x00,0x00		;	E
			db		0x01,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x00		;	D
			db		0x01,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x01		;	C
			db		0x00,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x00		;	B
			db		0x01,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	A
			db		0x01,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	9
			db		0x00,0x01,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	8
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	7
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0D,0x0D,0x0D,0x0F,0x0F,0x01,0x00,0x00		;	6
			db		0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x00,0x00		;	5
			db		0x00,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x01,0x00,0x00,0x00		;	4
			db		0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00		;	3
			db		0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00,0x00		;	2
			db		0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x00,0x00,0x00,0x00,0x00		;	1
			db		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00		;	0

; =============================================================================
;	うさぎ 上下・左右反転
small_image3::
			db		0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00,0x00		;	F
			db		0x00,0x00,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x00		;	E
			db		0x00,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x01		;	D
			db		0x01,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x01		;	C
			db		0x00,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x00		;	B
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x01		;	A
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x01		;	9
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x01,0x00		;	8
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	7
			db		0x00,0x00,0x01,0x0F,0x0F,0x0D,0x0D,0x0D,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	6
			db		0x00,0x00,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00		;	5
			db		0x00,0x00,0x00,0x01,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x00		;	4
			db		0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01		;	3
			db		0x00,0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x01,0x01,0x00		;	2
			db		0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00		;	1
			db		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00		;	0

; =============================================================================
;	うさぎ 正
small_image4::
			db		0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00		;	0
			db		0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00		;	1
			db		0x01,0x01,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00,0x00,0x00		;	2
			db		0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00,0x01		;	3
			db		0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x01,0x00,0x00,0x00,0x00		;	4
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x00,0x00,0x00		;	5
			db		0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0D,0x0D,0x0D,0x0F,0x0F,0x01,0x00,0x00,0x00		;	6
			db		0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00		;	7
			db		0x01,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00		;	8
			db		0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x01		;	9
			db		0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x01		;	A
			db		0x01,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x00,0x00		;	B
			db		0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x01,0x01		;	C
			db		0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x00,0x01		;	D
			db		0x01,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x00,0x00,0x00		;	E
			db		0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00		;	F

; =============================================================================
;	うさぎ 左右反転
small_image5::
			db		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00		;	0
			db		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01		;	1
			db		0x00,0x00,0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x01,0x01		;	2
			db		0x01,0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F		;	3
			db		0x00,0x00,0x00,0x00,0x01,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01		;	4
			db		0x00,0x00,0x00,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	5
			db		0x00,0x00,0x00,0x01,0x0F,0x0F,0x0D,0x0D,0x0D,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00		;	6
			db		0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00		;	7
			db		0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x01		;	8
			db		0x01,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x0F		;	9
			db		0x01,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F		;	A
			db		0x00,0x00,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x01		;	B
			db		0x01,0x01,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F		;	C
			db		0x01,0x00,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F		;	D
			db		0x00,0x00,0x00,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x01		;	E
			db		0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00		;	F

; =============================================================================
;	うさぎ 上下反転
small_image6::
			db		0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00		;	F
			db		0x01,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x00,0x00,0x00		;	E
			db		0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x00,0x01		;	D
			db		0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x01,0x01		;	C
			db		0x01,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x00,0x00		;	B
			db		0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x01		;	A
			db		0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x01		;	9
			db		0x01,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00		;	8
			db		0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00		;	7
			db		0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0D,0x0D,0x0D,0x0F,0x0F,0x01,0x00,0x00,0x00		;	6
			db		0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x00,0x00,0x00		;	5
			db		0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x01,0x00,0x00,0x00,0x00		;	4
			db		0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00,0x01		;	3
			db		0x01,0x01,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00,0x00,0x00,0x00		;	2
			db		0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00		;	1
			db		0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00		;	0

; =============================================================================
;	うさぎ 上下・左右反転
small_image7::
			db		0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00		;	F
			db		0x00,0x00,0x00,0x01,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x01		;	E
			db		0x01,0x00,0x01,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F		;	D
			db		0x01,0x01,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F		;	C
			db		0x00,0x00,0x01,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x0F,0x0F,0x0F,0x01		;	B
			db		0x01,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F		;	A
			db		0x01,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x0F		;	9
			db		0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x0F,0x0F,0x01,0x01		;	8
			db		0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00		;	7
			db		0x00,0x00,0x00,0x01,0x0F,0x0F,0x0D,0x0D,0x0D,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00		;	6
			db		0x00,0x00,0x00,0x01,0x0F,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x00,0x00		;	5
			db		0x00,0x00,0x00,0x00,0x01,0x0F,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01		;	4
			db		0x01,0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F		;	3
			db		0x00,0x00,0x00,0x00,0x00,0x01,0x0F,0x0F,0x0F,0x0F,0x01,0x01,0x01,0x01,0x01,0x01		;	2
			db		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x01		;	1
			db		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00		;	0

; =============================================================================
work::
			ds		16 * 16		; 256bytes
